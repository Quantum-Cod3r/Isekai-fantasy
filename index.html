<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" type="image/png" href="favicon.png">
<title>9 honour isekai</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<style>
  /* Fonts */
  @font-face {
    font-family: 'OrbitLite';
    src: local('Orbitron'), local('Arial');
  }
  :root{
    --bg-1:#020217;
    --bg-2:#071034;
    --card:#ffffff;
    --muted:#fbfdff;
    --text:#e8f4ff;
    --glass: rgba(255,255,255,0.03);
    --radius:14px;
    --accent: #8be0ff;
  /* Starting roles colors */
    --shadow_stalker: #000000;
    --reaver: #000cad;
    --luminara: #00e1ff;
    --aetherist: #ff00f6;
    --tank: #009614;
    --hero: #ffd700;
  /* Strength rating colors */
    --strength-brown: #8B6F47;
    --strength-silver: #c0c0c0;
    --strength-cyan: #00ffff;
    --strength-purple: #9d4edd;
  /* Pulse settings */
    --pulse-duration: 2.6s;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    background:
      radial-gradient(1200px 600px at 15% 10%, rgba(120,60,255,0.06), transparent 10%),
      radial-gradient(900px 500px at 85% 75%, rgba(50,160,255,0.03), transparent 8%),
      linear-gradient(180deg,var(--bg-1),var(--bg-2));
    padding:28px;
    display:flex;
    flex-direction:column;
    align-items:center;
  }

  header{width:100%;max-width:1200px;display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#10042b,#081034);color:var(--accent);font-weight:800;box-shadow:0 10px 60px rgba(128,70,255,0.06)}
  h1{margin:0;font-size:20px}
  .sub{color:var(--muted);font-size:13px}

  main{width:100%;max-width:1200px}
  .intro{text-align:center;margin:8px 0 16px}
  .intro p{color:var(--muted);margin:6px 0 0}

  /* grid */
  .grid{
    display:grid;
    grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
    gap:18px;
    width:100%;
  }
  
.styled-text {
    font-family: Arial;
    font-weight: bold;
    text-align: right;
    font-style: italic;
  }

  .card{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:var(--radius);
    overflow:hidden; cursor:pointer;
    transition:transform .22s ease, box-shadow .28s ease;
    box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    display:flex;flex-direction:column;height:320px;position:relative;border:1px solid rgba(255,255,255,0.03);
    backdrop-filter: blur(2px);
  }

  .portrait{height:200px;background:linear-gradient(180deg,#030414,#081832);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
  .portrait img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .6s ease}
  .card:hover .portrait img{transform:scale(1.03)}

  .info{padding:12px 14px;display:flex;align-items:center;justify-content:space-between;gap:8px}
  .hero-meta{display:flex;flex-direction:column}
  .hero-name{font-weight:800;font-size:16px}
  .hero-desc{font-size:12px;color:var(--muted);margin-top:4px;max-width:160px}

  .role-badge{font-size:12px;padding:6px 8px;border-radius:999px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:var(--muted)}

  /* neon glows per role with breathing pulse */
  .card[data-role="Shadow_stalker"]{--glow: var(--shadow_stalker)}
  .card[data-role="Reaver"]{--glow: var(var(--reaver))}
  .card[data-role="Luminara"]{--glow: var(var(--luminara))}
  .card[data-role="Aetherist"]{--glow: var(var(--aetherist))}
  .card[data-role="Tank"]{--glow: var(--tank)}
  .card[data-role="Hero"]{--glow: var(--hero)}
  
  .card[data-role="Hero"]{
    background:linear-gradient(180deg, rgba(255,215,0,0.08), rgba(255,215,0,0.04));
    border: 1.5px solid rgba(255,215,0,0.3);
  }

  /* Strength rating dots */
  .strength-rating{display:flex;gap:4px;align-items:center;margin-top:4px}
  .strength-dot{width:8px;height:8px;border-radius:50%;cursor:help;transition:all .2s ease;border:1px solid rgba(255,255,255,0.2)}
  .strength-dot:hover{transform:scale(1.3);filter:brightness(1.2)}
  .strength-dot[data-level="1"]{background-color:var(--strength-brown)}
  .strength-dot[data-level="2"]{background-color:var(--strength-silver)}
  .strength-dot[data-level="3"]{background-color:var(--strength-cyan)}
  .strength-dot[data-level="4"]{background-color:var(--strength-purple)}
  

  .card::after{
    content:"";position:absolute;left:0;right:0;bottom:0;top:0;border-radius:var(--radius);
    box-shadow: 0 0 0 0 rgba(0,0,0,0);
    pointer-events:none; opacity:0;
    transition:opacity .2s ease;
  }
  .card:hover::after{
    opacity:1;
    box-shadow:0 30px 80px rgba(0,0,0,0.65), 0 0 80px calc(var(--pulse-size,40px)) var(--glow);
    animation:neonPulse var(--pulse-duration) infinite;
  }
  @keyframes neonPulse{
    0%{filter:blur(0px);transform:translateZ(0) scale(1)}
    50%{filter:blur(6px);transform:translateZ(0) scale(1.01)}
    100%{filter:blur(0px);transform:translateZ(0) scale(1)}
  }

  /* subtle star overlay */
  .portrait::after{
    content:"";position:absolute;inset:0;
    background-image:
      radial-gradient(circle at 10% 20%, rgba(255,255,255,0.02) 0px, transparent 6px),
      radial-gradient(circle at 80% 70%, rgba(255,255,255,0.01) 0px, transparent 8px);
    pointer-events:none;
  }

  

  /* legend */
  .legend{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:16px}
  .chip{display:flex;gap:8px;align-items:center;padding:8px 10px;border-radius:999px;background:linear-gradient(90deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));color:var(--muted);font-weight:700}
  .swatch{width:12px;height:12px;border-radius:4px;box-shadow:0 6px 18px rgba(0,0,0,0.4) inset}

  /* modal */
  .overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(2,6,23,0.75), rgba(0,0,0,0.85));padding:28px;z-index:999}
  .overlay.show{display:flex}
  .sheet{width:min(1100px,98%);max-height:86vh;overflow:auto;border-radius:12px;background:linear-gradient(180deg,#041129,#072034);padding:18px;color:var(--text);box-shadow:0 30px 90px rgba(0,0,0,0.7)}
  .sheet-top{display:flex;gap:18px;flex-wrap:wrap}
  .sheet-img{width:320px;height:320px;border-radius:10px;overflow:hidden;background:#000;flex:0 0 320px}
  .sheet-img img{width:100%;height:100%;object-fit:cover}
  .sheet-right{flex:1}
  .sheet-right h2{margin:0}
  .muted{color:var(--muted)}
  .stat-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .stat{background:rgba(255,255,255,0.02);padding:8px 10px;border-radius:8px;min-width:86px;text-align:center;color:var(--muted)}
  .ability{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;margin-bottom:8px;border-left:2px solid var(--accent);border-radius:8px;border-right:2px solid var(--accent);}
  .passive{background:rgba(255,255,255,0.03);padding:12px;border-radius:8px;margin-bottom:8px;border-left:2px solid var(--acce  nt)}
  .ultimate{
    margin-top:12px;
    padding:16px;
    border-radius:8px;
    background:linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
    position:relative;
    border:1px solid rgba(255,255,255,0.1);
    box-shadow:0 0 20px rgba(139, 224, 255, 0.1);
    overflow:hidden;
    border-radius:8px;border-left:2px solid var(--accent);
    border-radius:8px;border-right:2px solid var(--accent);
    border-radius:8px;border-bottom:2px solid var(--accent);
    border-radius:8px;border-top:2px solid var(--accent);
  }
  .ultimate::before {
    content:"";
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0;
    background:linear-gradient(45deg, transparent 65%, rgba(139, 224, 255, 0.1) 75%, transparent 85%);
    background-size:200% 200%;
    animation:ultimateShine 3s infinite;
    pointer-events:none;
  }
  .ultimate::after {
    content:"";
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0;
    background:url('data:image/svg+xml,<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><line x1="10" y1="90" x2="90" y2="10" stroke="white" stroke-width="0.5" stroke-opacity="0.1"/></svg>') 0 0/20px 20px;
    opacity:0.5;
    animation:ultimateEnergy 10s linear infinite;
    pointer-events:none;
  }
  @keyframes ultimateShine {
    0%, 100% { background-position:200% 0; }
    50% { background-position:0 0; }
  }
  @keyframes ultimateEnergy {
    from { transform:translateX(-20px); }
    to { transform:translateX(0); }
  }
  .close-btn{display:inline-block;margin-top:12px;background:linear-gradient(90deg,#7dd3fc,#c07bff);color:#021024;padding:8px 12px;border-radius:8px;font-weight:800;cursor:pointer}
  
  /* Role filter tabs */
  .role-filters{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-bottom:24px;padding:12px 0;border-bottom:1px solid rgba(255,255,255,0.1)}
  .role-tab{padding:8px 18px;border-radius:8px;background:rgba(255,255,255,0.02);color:var(--muted);cursor:pointer;transition:all .2s ease;border:1px solid rgba(255,255,255,0.05);font-weight:700;font-size:14px}
  .role-tab:hover{background:rgba(255,255,255,0.06);border-color:rgba(255,255,255,0.1)}
  .role-tab.active{background:linear-gradient(90deg,#7dd3fc,#c07bff);color:#021024;border-color:transparent}
  .role-tab[data-role="Hero"].active{background:linear-gradient(90deg,#ffd700,#ffed4e);color:#021024}
  @media (max-width:880px){.sheet-img{width:220px;height:220px;flex:0 0 220px}.card{height:300px}.portrait{height:180px}}
</style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">9H</div>
      <div>
        <h1>9 honour isekai'd ‚Äî Ultimate Character Roster</h1>
        <div class="sub">Click a card for full details of my friendly classmates alternate persona in another world.</div>
      </div>
    </div>    
  </header>

  <main>
    <section class="intro">
      <h2 style="margin:0">Pick a legend</h2>
      <p>Filter by role and explore your favorite classmates.</p>
    </section>

    <div class="role-filters" id="roleFilters"></div>

    <section class="grid" id="heroesGrid"></section>
  </main>

  <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="sheet" id="sheet"></div>
  </div>
  

<script>
/* ---------------------------
   FULL HERO DATA (all characters)
   --------------------------- */
const heroes = {
  "Brothers": {
    role: "Shadowstalker",
    title: "Twin Shadows",
    race: "Human",
    type: "dual",
    members: {
      "Philip": {
        race: "Human",
        role: "Shadowstalker / Trickster",
        title: "Whisperblade",
        melee: "Twin Daggers ‚Äî swift and silent, perfect for rapid, unpredictable strikes.",
        abilities: [
          ["Silent Step", "Moves unseen for short bursts."],
          ["Phantom Echo", "Leaves afterimages that confuse enemies."],
          ["Mirror Slash", "Attacks from multiple angles, simulating multiple attackers."],
          ["Shadow Merge", "Combines with Steve to become a single shadow entity for coordinated attacks."]
        ],
        passives: [
          "Tactical Bond ‚Äî Gains strength when Steve is nearby.",
          "Quick Reflexes ‚Äî Reacts faster to danger when in shadows."
        ],
        stats: {Defense:12, Strength:14, Agility:19, Intelligence:16, Perception:17, "Magic Control":15, "Technique Control":18},
        ultimate: "Shadow Merge ‚Äî Philip and Steve synchronize perfectly, merging into a shadow entity that strikes with blinding speed and overwhelming precision."
      },
      "Steve": {
        race: "Human",
        role: "Shadowstalker / Strategist",
        title: "Nightcloak",
        melee: "Crescent Blade ‚Äî curves to slice through shadows and foes alike.",
        abilities: [
          ["Dark Veil", "Cloaks an area in darkness, hiding allies and confusing enemies."],
          ["Twin Link", "Syncs attacks with Philip for combo strikes."],
          ["Silent Snare", "Traps enemies in shadow tendrils briefly."],
          ["Twin Eclipse", "Coordinates with Philip to dominate the battlefield with shadows."]
        ],
        passives: [
          "Tactical Bond ‚Äî Gains strength when Philip is nearby.",
          "Predator's Patience ‚Äî Critical strike chance rises the longer he waits undetected."
        ],
        stats: {Defense:13, Strength:15, Agility:18, Intelligence:17, Perception:16, "Magic Control":16, "Technique Control":18},
        ultimate: "Twin Eclipse ‚Äî Steve and Philip orchestrate a perfect shadow assault, controlling the battlefield with illusions, traps, and rapid strikes."
      }
    }
  },

  "Catherine": {race:"Seraph-Blessed Human", role:"Luminara", title:"Aquamancer Cleric",
    melee:"Sacred Grimoire ‚Äì ‚ÄúCanticle of Tides‚Äù ‚Äî floating hymnbook that amplifies voice-based spells. Pages shimmer with holy runes and ripple like water when opened.",
    abilities:[["Sound Magic ‚Äì Harmonic Resonance","Uses melodies to heal allies or shatter enemies‚Äô focus. The tone determines the effect ‚Äî soothing for healing, high-pitched for disruption."],["Hydrokinesis","Manipulates water into healing waves, barriers, or whips. Holy-infused water purifies curses and burns shadow creatures."],["Luminous Baptism","Mid-level spell that releases a wave of radiant water, cleansing debuffs and dealing holy splash damage to enemies."]],
    passives:["Praise Buff ‚Äî Allies near Catherine gain minor HP regen and boosted morale when she sings or chants.","Blessed Flow ‚Äî Healing abilities scale with her current mana flow, giving her more potent heals when her own HP is high.","Congregation Aura ‚Äî The more allies within her radius, the stronger her healing and sound amplification become."],
    ultimate:"Divine Choir: Sancta Unda ‚Äî Catherine summons a grand cathedral made of liquid light and sound waves. Every ally inside gains rapid healing and purified mana, while enemies are deafened and slowly dissolved by holy currents. The more people chant with her, the stronger it becomes.",
    stats:{Strength:9,Agility:10,Defense:12,Intelligence:17,Perception:19,"Magic Power":20,"Technique Control":17}
  },

  "Cherise": {race: "Elf Hybrid", role: "Aetherist", title: "Arcane Artiste",
    melee: "Enchanted Paintbrush & Palette ‚Äî conjures weapons, barriers, or animate creations with every stroke.",
    abilities: [["Art Magic","Turns colours and brushstrokes into magical effects / constructs."],["Living Canvas","Summons animated creations from paintings to fight or defend."],["Prismatic Veil","Bends colour to create illusions or hide allies."],["Creative Distortion","Warps small areas of reality using paint-magic."],["Chromatic Surge","Unleashes a burst of radiant colour energy, dealing AOE damage and stunning enemies briefly."]],
    passives: ["Inspire ‚Äî boosts allies' morale, attack & magic output.","Passion ‚Äî Her magical output grows stronger when emotionally charged or excited.","Spirit Palette ‚Äî Residual energy empowers her creations, making them stronger the longer they stay active.","Muse‚Äôs Glow ‚Äî Reveals hidden or invisible enemies affected by her magic."],
    stats: {Defense:12,Strength:12,Agility:14,Intelligence:17,Perception:19,"Magic Control":20,"Technique Control":19},
    ultimate: "Masterpiece Cataclysm ‚Äî Cherise paints the battlefield into a surreal magical landscape. Enemies trapped in her world are slowed, confused, and take continuous magical damage, while allies gain shields, buffs, and can use the terrain creatively."
},

  "David": {race: "Sylph-Tuned Human", role: "Reaver", title: "Gale Swordsman",
    melee: "Twin Windblades ‚Äî Zephyr & Tempest; lightweight, curved swords that hum with compressed air. When swung, they cut by pressure rather than metal.",
    abilities: [["Speedsetter","Temporarily accelerates his perception and movement so time appears slower to him. Costs heavy stamina and mana."],["Aero Slash","Sends vacuum blades or air bursts with every swing."],["Wind Step","Uses air currents to dash mid-air or change direction instantly."],["Cyclone Guard","Spins blades fast enough to form a mini-tornado shield that deflects projectiles."]],
    passives: ["Acceleration ‚Äî The longer David moves continuously, the faster he becomes. Stopping resets his speed multiplier.","Momentum Flow ‚Äî Each successful hit slightly boosts his next strike‚Äôs power and accuracy.","Wind‚Äôs Grace ‚Äî Wind magic automatically cushions falls and reduces damage from physical impact."],
    stats: {Strength:12,Agility:20,Defense:12,Intelligence:18,Perception:20,"Magic Power":20,"Technique Control":19},
    ultimate: "Eye of the Tempest ‚Äî David becomes the calm center of a massive spiral storm. Inside the domain, his speed doubles, and every movement creates slicing wind rings that move independently. Enemies caught inside are buffeted by invisible slashes while he flickers through them faster than sight."
},

  "Dominion": {race: "Archon-Born", role: "Aetherist", title: "Dimensional Summoner", img: "dominion.jpg",
    melee: "Arcane Grimoire ‚Äî Codex of Realms; channels summoning seals.",
    abilities: [["Summoning Arts","Calls forth entities from his private realm: elemental beasts, spectral guardians, or constructs of pure energy. Each summon has its own trait (tank, striker, mage, scout, etc.)."],["Pocket Dimension","Opens or manipulates his private dimension for storage, travel, or isolation. He can trap enemies or shelter allies in it temporarily."],["Spatial Shift","Teleports to any marked summon‚Äôs position or swaps two entities mid-battle."],["Binding Sigils","Engraves glowing runes that boost his summons‚Äô power or restrain foes within an area."]],
    passives: ["Absolute Control ‚Äî Dominion maintains total synchronization with his summons, directing several simultaneously without concentration loss.","Dimensional Awareness ‚Äî Instinctively detects distortions, teleportation traces, or spatial anomalies.","Arcane Resonance ‚Äî Each active summon strengthens his dimensional stability and boosts all his magic efficiency."],
    stats: {Strength:10,Agility:12,Defense:16,Intelligence:17,Perception:16,"Magic Power":19,"Technique Control":20},
    ultimate: "Grand Convergence ‚Äî Dominion fuses all active summons into a single massive construct ‚Äî a colossal spirit avatar called ‚ÄúEidolon Prime.‚Äù It mirrors his movements, amplifies his spells, and can fragment back into his original summons on command. Within this form, his control is absolute ‚Äî every strike, every defense, every inch of space answers to him."
},

  "Ethan": {race: "Half-Dragon", role: "Reaver", title: "Infernal Vanguard", img: "ethan.jpg",
    melee: "Scorched Chain Hook ‚Äî a fiery hybrid of whip and blade, channels both brute force and fire magic.",
    abilities: [["Pyrokinesis","Control over fire‚Äôs temperature, color, and form‚Äîturns sparks into infernos or shapes into weapons."],["Phoenix Recovery","Revives from the brink once per battle, flames restoring wounds."],["Infernal Surge","Boosts power, speed, and senses when engulfed in flames."],["Draconic Roar","Emits a pressure wave of molten heat that cracks armor and shakes the ground."]],
    passives: ["Pyro Affinity ‚Äî fire spells less costly & stronger.","Fire Resistance ‚Äî immune to flames and high temperature environments.","Molten Heart ‚Äî sustained combat increases power output over time (he gets stronger the longer he fights)."],
    stats: {Defense:17,Strength:17,Agility:17,Intelligence:17,Perception:17,"Magic Control":17,"Technique Control":17},
    ultimate: "Cataclysm Drive ‚Äî Ethan releases the sealed dragon core in his chest, becoming a flaming comet that obliterates enemies in a fiery explosion before re-forming from molten ash."
},


 "Gift": {race: "Human (Cursed Lineage)", role: "Aetherist", title: "Blood Witch", img: "giftpg",
    melee: "Grimoire-Wand Hybrid ‚Äî amplifies her spells through floating crimson sigils and channelled curses.",
    abilities: [["Hemocraft","Converts her blood into mana to amplify magic or heal allies at the cost of her own vitality."],["Scarlet Bind","Conjures chains of solidified blood energy that immobilize and drain enemies."],["Witchfire Bloom","Erupts a field of crimson flames that consume magic energy, weakening spellcasters."],["Sanguine Mirage","Creates illusions from blood mist that echo her attacks for a few seconds, confusing opponents."]],
    passives: ["Crimson Catalyst ‚Äî spells grow stronger the more blood she expends.","Witch‚Äôs Insight ‚Äî enhances magical perception, allowing her to read and anticipate enemy spell formations."],
    stats: {Defense:11,Strength:10,Agility:14,Intelligence:18,Perception:17,"Magic Control":19,"Technique Control":18},
    ultimate: "Ritual of the Red Moon ‚Äî Gift inscribes a massive sigil beneath her as the moon above turns crimson. Enemies caught inside are lifted into the air, their energy drained to empower her allies‚Äô spells while blood rain pours from the sky."
},


  "Gianna": {race:"Beastman (Ursine Type)", role:"Luminara", title:"Tech Predator",
    melee:"Enhanced Claw Gauntlets ‚Äî reinforced with mana circuits, sparking with stored energy during slashes.",
    abilities:[["Animal Instinct","Heightened senses and reaction time; can sense danger or ambushes before they happen."],["Savage Blitz","Rapid claw combo infused with static mana that tears through armor and disrupts mana flow."],["Overdrive Rush","Channels raw adrenaline and electricity to boost all physical stats for a short time."],["Hunter‚Äôs Pounce","Leaps at enemies with crushing force, stunning and shocking them on impact."]],
    passives:["Savage Core ‚Äî The lower her HP, the stronger and faster she becomes.","Techblood ‚Äî Instinctively fuses mana with machinery, repairing and upgrading gear mid-battle without thinking.","Beast Reflexes ‚Äî Reacts to threats with superhuman speed, dodging or countering attacks almost instinctively."],
    stats:{Defense:16,Strength:16,Agility:15,Intelligence:18,Perception:16,"Magic Control":13,"Technique Control":18},
    ultimate:"Predator Protocol ‚Äî beast form and tech merge; lightning claws and titan-strength movement for 30s."
},


 "Gregory": {race:"Celestial (Half-Angel)", role:"Hero", title:"Divine Hero",
    melee:"Lumisblade ‚Äî a radiant sword forged from condensed light, capable of cutting through darkness and purifying corruption.",
    abilities:[["Superhuman Physique","Enhanced strength, speed, and endurance far beyond mortal limits."],["Aegis of Virtue","Creates a golden barrier that reflects projectiles and absorbs magic damage."],["Heaven‚Äôs Descent","Temporarily manifests angelic wings, granting flight and a burst of divine speed."],["Radiant Smite","Channels holy energy into his sword for devastating strikes that deal extra damage to dark or evil-aligned foes."]],
    passives:["Hero‚Äôs Resolve ‚Äî Damage increases when protecting allies or standing against evil.","Divine Presence ‚Äî Naturally boosts allies‚Äô morale and weakens nearby enemies through sheer aura."],
    stats:{Defense:19,Strength:18,Agility:17,Intelligence:18,Perception:18,"Magic Control":18,"Technique Control":18},
    ultimate:"Judgment Ascension ‚Äî Gregory rises skyward, summoning a pillar of celestial light that rains down holy blasts across the battlefield, obliterating evil and restoring allies caught in the glow."
},


  "Ian": {race:"Munchkin", role:"Reaver", title:"Titanbreaker",
    melee:"The Bonkhammer ‚Äî comically oversized warhammer channeling raw kinetic energy, causing the ground to ripple with every swing.",
    abilities:[["Gigaton Smash","Every hammer strike multiplies in power with consecutive hits, generating shockwaves."],["Earthbound Tremor","Slams the ground to create localized quakes that throw enemies off balance."],["Kinetic Absorption","Converts incoming physical damage into strength boosts."],["Boulder Toss","Picks up and throws absurdly large objects with ease."]],
    passives:["Mini Might ‚Äî The smaller his HP, the stronger his hits.","Unyielding Spirit ‚Äî Cannot be stunned or knocked down; his tenacity literally defies physics."],
    stats:{Defense:8,Strength:20,Agility:16,Intelligence:12,Perception:14,"Magic Control":10,"Technique Control":12},
    ultimate:"Mountain‚Äôs Wrath ‚Äî Ian channels all stored kinetic energy into his hammer, growing to giant size for a few seconds before unleashing a single colossal blow that reshapes the battlefield."
},


  "Ivy": {race:"Sylvan Elf", role:"Luminara", title:"Verdant Sentinel",
    melee:"Bloomfang Blade ‚Äî a living sword that grows vines and thorns mid-swing, feeding off Ivy‚Äôs mana.",
    abilities:[["Verdant Dominion","Manipulates plants to entangle, heal, or attack; roots can pierce armor or shield allies."],["Floral Genesis","Grows protective flora instantly ‚Äî trees, barriers, or blooming traps that explode with pollen bursts."],["Beast Whisper","Commands nearby natural creatures or summons forest spirits for aid."],["Thorn Requiem","Launches razor-sharp vines that track enemies‚Äô movement through mana scent."]],
    passives:["Mother Nature‚Äôs Blessing ‚Äî Gradually regenerates HP and mana while standing on natural terrain.","Harmony of the Wilds ‚Äî Gains stat boosts when fighting alongside summoned creatures or other nature mages."],
    stats:{Defense:11,Strength:12,Agility:14,Intelligence:18,Perception:19,"Magic Control":19,"Technique Control":18},
    ultimate:"Eden‚Äôs Embrace ‚Äî Ivy merges with the forest, transforming the battlefield into a massive living garden. Vines erupt, flowers heal allies, and enemies are ensnared in thorned prisons that drain their life force into Ivy‚Äôs magic core."
},


  "Jayson": {race:"Human (Cryo-touched)", role:"Shadowstalker", title:"Frostblade Ranger",
    melee:"Glacier Shuriken ‚Äî enchanted, self-returning ice-forged blades that freeze targets on contact.",
    abilities:[["Cryokinesis","Controls ice in all forms ‚Äî shards, mist, and frost barriers; can freeze moisture midair into weapons."],["Cryo Rebirth","When near death, his body shatters into ice and reforms elsewhere, healing partway (once per battle)."],["Frost Mirage","Creates icy clones that mirror his movements and explode into freezing mist when struck."],["White Silence","Silences all sound within a radius, boosting focus, stealth, and critical accuracy."]],
    passives:["Cryo Affinity ‚Äî All ice magic consumes 30% less energy and deals amplified damage in cold environments.","Frozen Focus ‚Äî The calmer his heart rate, the higher his precision and spell control."],
    stats:{Defense:12,Strength:11,Agility:16,Intelligence:18,Perception:17,"Magic Control":18,"Technique Control":18},
    ultimate:"Absolute Zero ‚Äî Jayson unleashes total cryo dominion, freezing everything within a wide radius to absolute stillness. Enemies caught inside are trapped in suspended time for a few seconds as he moves freely to strike."
},


  "Jeremy": {"race": "Human (Peak Condition)","role": "Shadowstalker","title": "Shadow Operative",
    melee: "Nocturne Arsenal ‚Äî an adaptive modular weapon forged from enchanted alloys and forgotten tech. It seamlessly shifts between dual tonfas, a collapsible staff, or short blades. Each strike feeds kinetic energy into its core, storing power to unleash counterattacks with surgical, bone-rattling precision.",
    abilities: [["Adaptive Combat","Effortlessly deciphers enemy fighting patterns in real time, reshaping his style to match and overwhelm. Every move against him is another line in a book he‚Äôs already reading ahead of you. The more data he collects, the faster and more unpredictable his counters become, forcing enemies into a spiral of predictable failure as he turns their strengths into glaring weaknesses."],["Tactical Vision","Custom combat lenses scan weak points, mana flow, and trajectory paths with microscopic accuracy, turning every blink into a battle calculation. His lenses don‚Äôt just see ‚Äî they project environmental simulations, predict opponent movement arcs, and highlight structural vulnerabilities in real time. He can collapse terrain, anticipate spells before they‚Äôre cast, and strike at the perfect moment with surgical precision."],["Stealth Drive","Pure science, zero magic. He slips into utter silence and optical invisibility, striking before you even realize the lights dimmed. His stealth system bends both light and sound, generating an adaptive cloaking field that evolves with every encounter. Even magical detection systems are fed false readings. By the time a target senses something is off, he‚Äôs already repositioned for the kill."],["EMP Pulse","Releases a condensed energy burst that fries mana circuits and nullifies magic-based systems in the area, dragging mages down to his playing field. The pulse intelligently adapts mid-burst, locking onto the strongest mana signatures and stripping them layer by layer, unraveling active spells mid-cast and destabilizing magical constructs. Enchanted weapons flicker and die, magical shields collapse, and the battlefield tilts violently in his favor."],["Rift Stride","A controlled burst of kinetic displacement lets him appear and disappear in short-range jumps. It‚Äôs not teleportation ‚Äî it‚Äôs weaponized momentum. His body syncs with his combat suit‚Äôs inertial dampeners, letting him shift position faster than the eye can track. He uses it to break line of sight, ambush, and reposition with predatory precision, turning any battlefield into a chessboard where he‚Äôs always ten moves ahead."],["Combat Echo","Every successful dodge or counter stores a phantom afterimage that replicates the move a second later, turning solo fights into a one-man beatdown. These echoes act with perfect timing, following the trajectory of his original movements but adjusting to the enemy‚Äôs altered stance, creating pressure from multiple angles without draining his stamina. It‚Äôs like fighting an opponent and their flawless shadow at once."]],
    passives: ["Prep Time Mastery ‚Äî The more information he gathers, the deadlier he becomes. Knowledge isn‚Äôt just power, it‚Äôs a loaded weapon in his hands. He builds entire counter-strategies from scraps of movement, adapting his entire combat flow in seconds. Give him time to analyze, and the battle is over before it begins.","Cold Logic ‚Äî Fear? Panic? Irrational impulse? Deleted. Every thought is filtered through tactical computation. He processes the battlefield like a living algorithm, cutting away emotion, distraction, and hesitation. Every move is the most efficient possible response to the situation.","Kinetic Reflexes ‚Äî Converts absorbed kinetic force into bursts of inhuman speed and strength, turning your own hits into your worst mistake. The more impact he endures, the more explosive his retaliation becomes. A solid hit doesn‚Äôt weaken him ‚Äî it supercharges him.","Neural Assimilation ‚Äî Every opponent‚Äôs combat style is stored, analyzed, and integrated. Once he‚Äôs fought you once, a rematch is basically him playing back your greatest hits‚Ä¶ only better. His neural processors map your habits, timing, and micro-movements, letting him replicate and counter you simultaneously. Your tricks won‚Äôt work twice. They won‚Äôt even work once if he‚Äôs watching closely enough."],
    stats: {"Defense": 18,"Strength": 17,"Agility": 19,"Intelligence": 20,"Perception": 20,"Magic Control": 0,"Technique Control": 20 },
    ultimate: "The Apex Protocol ‚Äî Jeremy triggers his full combat suite: neural enhancements, tactical overlays, and predictive combat algorithms. For 90 seconds, he operates beyond human reaction speed, calculating and countering every strike before it‚Äôs made. His entire nervous system syncs with a hyper-threaded combat AI that processes the battlefield faster than any human eye can perceive. Every heartbeat becomes a calculation, every breath a blade. Spells unravel before they‚Äôre cast. Bullets curve around him like they‚Äôve lost their way. To him, the fight isn‚Äôt happening ‚Äî it already happened, and he won. Anyone standing against him in those 90 seconds is simply replaying a losing battle."
},


 "Joshua": {race:"Human (Divinely Blessed)", role:"Luminara", title:"Luminary Priest",
    melee:"Staff of Sanctus ‚Äî manifests from divine light, glowing brighter the purer his intent.",
    abilities:[["Divine Light","Emits pure celestial energy that disintegrates corruption, curses, and shadows; the stronger his faith, the brighter the light burns."],["Solar Restoration","Channels divine energy into others, healing wounds and purifying souls instantly."],["Judgment Ray","Calls down a concentrated beam of holy radiance from the heavens, smiting enemies marked by sin or malice."],["Blessed Radiance","His mere presence emits an aura that weakens dark magic and boosts ally morale."]],
    passives:["Child of Light ‚Äî His power never fades; even when drained or wounded, divine energy naturally regenerates him.","Faith Unbroken ‚Äî Immune to corruption, fear, and possession. The stronger the darkness he faces, the brighter his light shines.","Holy Insight ‚Äî Can sense the true nature of beings, detecting lies, illusions, or hidden darkness."],
    stats:{Defense:12,Strength:12,Agility:13,Intelligence:19,Perception:18,"Magic Control":20,"Technique Control":20},
    ultimate:"Genesis Halo ‚Äî Joshua becomes a conduit of divine will. A massive halo forms in the sky, flooding the battlefield with sanctified light that blinds evil, restores life, and reshapes the ground into holy soil. For one minute, he is the Light itself ‚Äî untouchable, unstoppable, and absolute."
},

  "Joie Shanelle": {race: "Reptilian-Hybrid", role: "Shadowstalker", title: "Silver Tongue",
    melee: "Venomless Fang ‚Äî lashes or coils with precise strikes, restraining enemies without poison.",
    abilities: [["Mind Whisper", "Subtly influences thoughts, causing hesitation or doubt in enemies."],["Serpentine Agility", "Slithers or contorts to dodge attacks or squeeze through gaps."],["Coiling Strike", "Strikes multiple enemies by wrapping or tripping them with her body."],["Hypnotic Fang", "Mesmerizes enemies in a large radius, causing confusion and freezing."]],
    passives: ["Cold-Blooded Calm ‚Äî Gains precision and focus under pressure.","Chameleon Aura ‚Äî Blends into shadows or surroundings when stationary."],
    stats: {Defense:13, Strength:12, Agility:18, Intelligence:17, Perception:16, "Magic Control":15, "Technique Control":16},
    ultimate: "Hypnotic Fang ‚Äî Joy unleashes her full hypnotic power, stunning all nearby enemies and bending weaker minds to her will for a short duration."
},

  "Kiptoo": {race:"Dwarf", role:"Tank", title:"Steam Inventor",
    melee:"Reinforced Gauntlets ‚Äî punch, shock, or deploy gadgets; a brutal blend of muscle and machinery.",
    abilities:[["Clockwork Instinct","Deploys mini-turrets, traps, or drones instantly to control the field."],["Steam Strike","Charges gauntlets with pressurized steam for heavy knockback and burn damage."],["Explosive Improvisation","Lobs bombs or gadgets with unpredictable but devastating results."],["Inventor‚Äôs Insight","Genius-level tactical analysis; adapts, counters, and engineers solutions mid-battle."]],
    passives:["Tinker‚Äôs Reflex ‚Äî Enhanced agility when working with machinery.","Dwarven Resilience ‚Äî Reduced damage from physical and environmental sources.","Overclocked Mind ‚Äî Calculates optimal patterns on the fly, boosting Technique Control over time."],
    stats:{Defense:18,Strength:16,Agility:12,Intelligence:20,Perception:17,"Magic Control":10,"Technique Control":20},
    ultimate:"Grand Steam Overdrive ‚Äî Kiptoo climbs into a mechanized exosuit, boosting strength, defense, and technique. Fires steam cannons, deploys shields, and floods the battlefield with auxiliary gadgets until energy burns out."
},

  "Leon": {race: "Human", role:"Reaver", title:"Spatial Combatant",
    melee: "Warp Gauntlets ‚Äî metallic gloves etched with teleportation runes that let him fold space mid-punch.",
    abilities:[["Spatial Rend","Tears open rifts that slice through anything they touch ‚Äî air, stone, armor, doesn‚Äôt matter."],["Blink Strike","Instantly teleports behind or around opponents mid-combat, chaining attacks with disorienting speed."],["Void Pulse","Expands a shockwave of spatial distortion that pushes everything away or crushes objects within a set radius."],["Event Horizon","Locks an enemy inside a small warped pocket of space ‚Äî a temporary battlefield where only he can move freely."]],
    passives:["Dimensional Instinct ‚Äì Instantly senses distortions or movement within a 50-meter radius; basically impossible to sneak up on.","Warp Resilience ‚Äì Immune to spatial attacks, compression, and displacement; space magic can‚Äôt touch him."],
    stats:{Defense:14,Strength:13,Agility:18,Intelligence:17,Perception:19,"Magic Control":20,"Technique Control":18},
    ultimate:"Zero Point Collapse ‚Äì Leon folds all surrounding space into a single microscopic point, creating a silent implosion that vaporizes everything caught in it ‚Äî then reverses it to restore the terrain (but not the enemies üíÄ)."
},


  "Malika": {race:"Human (Witch Lineage)", role:"Aetherist", title:"Mirror Witch",
    melee:"Crystal Wand ‚Äî shatters into razor-edged shards to attack, reflect magic, or conjure mirror doubles for deception and control.",
    abilities:[["Mirror Reflection","Summons mirror clones that mimic her movements, attack, and absorb spells."],["Crystal Shard Barrage","Launches high-velocity crystal fragments that slice through armor and barriers."],["Prismatic Trap","Casts reflective zones that disorient, blind, and confuse enemies."],["Refract Curse","Bends or redirects enemy attacks back at their source, amplifying impact."]],
    passives:["Reflective Mind ‚Äî Anticipates attacks through mirrored reflections.","Crystalline Body ‚Äî Gains damage resistance as magic hardens around her.","Mirror Insight ‚Äî Detects hidden enemies or illusions via reflective distortions."],
    stats:{Defense:11,Strength:10,Agility:12,Intelligence:20,Perception:18,"Magic Control":18,"Technique Control":18},
    ultimate:"Shattered Reality ‚Äî Malika fractures the battlefield into endless mirrors, trapping enemies in shifting illusions while freely teleporting between reflections. The mirrored maze deals continuous magic damage and overwhelms perception."
},

  "Marion": {race:"Arcane Sage", role:"Aetherist", title:"Spatial Sage",
    melee:"Arcane Staff ‚Äî channels spatial magic to erect shimmering barriers, bend trajectories, and reshape the battlefield with surgical precision.",
    abilities:[["Spatial Barrier","Generates protective zones that absorb, deflect, and redirect incoming attacks while shielding allies."],["Phase Step","Short-range teleportation with flickering afterimages to evade or reposition with precision."],["Gravitic Pull","Bends gravity in a targeted area, slowing or pinning enemies without damaging terrain."],["Aether Burst","Unleashes a focused dimensional pulse that blasts enemies backward, disrupts their attacks, and instantly cleanses negative effects from nearby allies"]],
    passives:["Unmaiden Transport ‚Äî Already visited places are naturally attuned to teleport to.","Bodily Void ‚Äî has semi-strong constant field of spatial magic surrounding her(Can be destroyed)","Arcane Awareness ‚Äî Constantly senses traps, hidden threats, and distortions across the map.","Spatial Reflex ‚Äî Accelerated reaction time under pressure, allowing flawless evasion and countering."],
    stats:{Defense:20,Strength:12,Agility:12,Intelligence:20,Perception:19,"Magic Control":20,"Technique Control":19},
    ultimate:"Eclipse of Realms ‚Äî Marion tears open a colossal spatial rift above the battlefield. Enemies are slowed, projectiles nullified, and allies gain free movement through warped space. Layers of gravitational zones crush enemy formations while Marion controls positioning like a celestial puppeteer."
},

"Mark": {race: "Dark Elf", role: "Shadowstalker", title: "Shadow Reaper",
    melee: "Shadow Scythe ‚Äî a cursed blade that can extend, phase through matter, and siphon energy from enemies.",
    abilities: "Shadow Manipulation ‚Äî Shapes darkness into weapons, tendrils, or barriers; can attack or defend silently; Umbral Slash ‚Äî Scythe strikes leave afterimages that hit multiple times or confuse enemies.; Cloak of Night ‚Äî Becomes nearly invisible in dim or dark areas; perfect for ambushes.; Nightmare Grip ‚Äî Temporarily immobilizes enemies by wrapping them in shadow tendrils.",
    passives: "Shadow Travel ‚Äî short-distance teleport through shadows; Predator‚Äôs Focus ‚Äî higher crit chance when stalking unseen; Umbral Resilience ‚Äî Gains reduced damage from physical and magical attacks while in shadowed environments.",
    stats: { Defense: 10, Strength: 17, Agility: 18, Intelligence: 17, Perception: 19, 'Magic Control': 20, 'Technique Control': 18 },
    ultimate: "Domain Expansion: Eternal Eclipse ‚Äî Mark envelops a large area in a dome of pure darkness. Only he can see inside; enemies are disoriented and attacked by shadow constructs while his speed, strength, and technique are massively boosted."
},

  "Mario": {race: "Beastman (Wolf Type)", role: "Tank", title: "Tactical Commander",
    melee: "Cybernetic Gauntlets ‚Äî enhanced for both brutal punches and gadget-assisted strikes; can amplify force, shock, or grapple enemies.",
    abilities: "Animal Instinct ‚Äî Heightened senses and reflexes: detects danger, predicts enemy movements, and reacts instantly with inhuman precision; Weapon Utilization ‚Äî Instantly masters any weapon adapts attacks to enemies, terrain, and combat flow.; Overdrive Assault ‚Äî Adrenaline surge boosts all physical stats moves faster, hits harder, fights like a storm.; Tactical Coordination ‚Äî Leads allies with perfect timing that boosts teamwork, precision, and combat efficiency.",
    passives: "Savage Core ‚Äî stronger at low HP; Beast Reflexes ‚Äî auto dodges in range; Military Discipline ‚Äî boosted endurance & focus.",
    stats: { Defense: 17, Strength: 18, Agility: 18, Intelligence: 16, Perception: 19, "Magic Control": 10, "Technique Control": 18 },
    ultimate: "Lunar Assault ‚Äî taps full Beastman instincts and military expertise, gaining immense strength, speed, and perception for 30 seconds with devastating blitz attacks."
},

  "Maxwell": {race: "Elf",role: "Reaver",title: "Cheerful Berserker",
    melee: "Electrified Polearm ‚Äî a long polearm forged with storm-touched steel, constantly crackling with electrical energy. It delivers rapid, devastating melee strikes and can also channel lightning outward for ranged attacks, making it deadly up close or from afar.",
    abilities: "Electrokinesis ‚Äî Manipulate lightning freely to strike enemies or enhance attacks, controlling voltage with precision for versatile, high-speed combat; Thunder Therapy ‚Äî Focused lightning rejuvenates your own energy, rapidly healing personal wounds.; Storm Dash ‚Äî Dash at lightning speed, striking enemies along your path, closing gaps, or evading attacks with extreme mobility.; Chain Lightning ‚Äî Launch arcs of electricity that jump between enemies, dealing cascading damage that weakens targets progressively.; Tempest Pulse ‚Äî Unleash an explosive surge of energy, knocking back enemies while disrupting their positioning and staggering attacks.",
    passives: "Lightning Affinity ‚Äî lightning abilities cost less energy and deliver amplified damage; Lightning Resistance ‚Äî complete immunity to electrical attacks and shock damage; Berserker Spark ‚Äî the more damage he takes, the stronger and faster he becomes; Static Momentum ‚Äî builds up electrical charge while moving, boosting the damage of the next attack; Stormborn Instinct ‚Äî automatically performs a split-second dodge when surrounded or ambushed, as if guided by instinctive lightning reflexes.",
    stats: {Defense: 12,Strength: 12,Agility: 19,Intelligence: 16,Perception: 19,"Magic Control": 19,"Technique Control": 19},
    ultimate: "Thunderball Destruction ‚Äî Maxwell charges fully with electricity, spinning his polearm in a massive storm of lightning that obliterates everything nearby and leaves the battlefield crackling for a short time."
},

  "Natasha": {race: "Chronian",role: "Aetherist",title: "Time Warden",
    melee: "Temporal Umbrella ‚Äî a versatile hybrid of shield and weapon forged with chronal energy. It can deflect incoming attacks, briefly rewind or freeze projectiles midair, and redirect their momentum. Each strike subtly bends time, making it difficult for enemies to react or block.",
    abilities: "Chronokinesis ‚Äî manipulates time in localized areas, allowing Natasha to slow, speed up, or briefly pause everything inside; Delay Field ‚Äî creates a temporal bubble that drastically slows enemy movement and projectile speed, giving her a tactical advantage; Time Skip ‚Äî blinks herself a short distance forward or backward along her timeline, instantly evading attacks; Aging Touch ‚Äî accelerates time on contact, corroding metal, weakening armor, and breaking down barriers.",
    passives: "B.O.T (Blessing of Time) ‚Äî enhanced cognitive speed and reflexes allow her to process events faster than normal, resisting ambushes and reacting precisely; Temporal Awareness ‚Äî perceives danger an instant before it happens, granting superior evasion and counter timing.",
    stats: {Defense: 12,Strength: 10,Agility: 14,Intelligence: 20, Perception: 20,"Magic Control": 20,"Technique Control": 16 },
    ultimate: "Chrono Collapse ‚Äî Natasha freezes a large zone in time for several seconds. Every enemy and projectile inside is locked in stasis while she moves freely. When time resumes, all delayed attacks, spells, and impacts detonate simultaneously, overwhelming foes caught in the field."

  },
  "Nelvin": {race: "Human", role: "Tank", title: "Titan Vanguard",
    melee: "Giant Axe & Great Shield ‚Äî Massive axe swings cleave through foes while his shield radiates a faint golden glow, automatically deflecting minor attacks.",
    abilities: "Invincibility ‚Äî temporarily Nelvin‚Äôs body glows with molten gold energy, absorbing incoming damage for a few seconds. Enemies striking him see sparks and hear metallic reverberations; Basic Shield Magic ‚Äî Conjures translucent energy barriers that shimmer with faint rune patterns. Can deflect projectiles or block melee strikes, pulsing when absorbing damage; Ground Slam ‚Äî Nelvin slams his axe into the ground, sending a shockwave of jagged energy rippling outward. Nearby enemies are staggered and dust explodes around them.; Fortitude Roar ‚Äî Lets out a deafening, echoing roar that makes enemies‚Äô weapons vibrate with energy while allies are surrounded by a faint protective aura, boosting defense and morale.",
    passives: "Rage Bait ‚Äî Enemies targeting Nelvin have a faint lightning spark trail, signaling his increased strength and resilience.; Stand Still ‚Äî Glows with a golden aura when stationary, armor bracing for maximum stability.; Enduring Spirit ‚Äî Soft golden light pulses around Nelvin when regenerating HP, symbolizing unyielding endurance..",
    stats: { Defense: 20, Strength: 16, Agility: 10, Intelligence: 14, Perception: 14, 'Magic Control': 10, 'Technique Control': 16 },
    ultimate: "Colossus Rampage ‚Äî Nelvin becomes a golden juggernaut, charging forward in a blaze of sparks. Each axe swing releases energy arcs that crush enemies, while his shield emits shockwaves protecting allies. The ground cracks beneath his feet, leaving a glowing trail marking his unstoppable path. Lasts 15‚Äì20 seconds."
},

 "Nosim": {race: "Human", role: "Aetherist", title: "Elemental Witch",
    melee: "Arcane Staff ‚Äî Channels fire and lightning for ranged spells or empowers close combat strikes. Staff crackles with energy when charged.",
    abilities: "Fire magic ‚Äî Conjures flames for offense: fireballs, walls, or imbued melee strikes. Flames flicker and roar, leaving heat waves that distort the air.; Lightning magic ‚Äî Manipulates electricity, firing bolts or shocking foes. Sparks jump between enemies or arc along conductive surfaces for dynamic, unpredictable damage.; Storm Fuse ‚Äî Fuses fire and lightning to create electrified flame constructs or wide-area explosions. Lightning dances along fiery surfaces for stunning visual chaos.; Mana Surge ‚Äî Temporarily boosts spellcasting speed and power. Arcane energy swirls around Nosim as spells fire faster and hit harder.",
    passives: "Elemental Affinity ‚Äî enhanced fire and lightning efficiency; Energy Conductor ‚Äî Lightning can chain between enemies or arc through metal objects, amplifying its reach.; Flame Resilience ‚Äî Reduces incoming fire/electric damage and grants immunity to burns or shocks.",
    stats: { Defense: 10, Strength: 12, Agility: 11, Intelligence: 19, Perception: 17, 'Magic Control': 20, 'Technique Control': 18 },
    ultimate: "Inferno Tempest ‚Äî Nosim summons a massive storm of fire and lightning over the battlefield. Flames spiral upward as lightning arcs wildly, striking multiple enemies and leaving scorched, electrified terrain. Duration: 15‚Äì20 seconds."
},

 "Oprah": {race:"Celestial Hybrid", role:"Aetherist", title:"Fate Witch", img:"oprah.jpg",
    melee:"Threaded Rapier ‚Äî Slender, rune-etched rapier with magical thread spool. Can slice, bind, or manipulate enemies across close-to-mid range. Threads shimmer with faint celestial light.",
    abilities:[["Thread Magic","Spins magical threads to bind, slice, or create constructs. Threads move fluidly, responding to her intent."],["Fate Manipulation","Alters probabilities: to aid allies or subtly hinder foes. Chance and consequence twist around her."],["Entangling Weave","Conjures webs of thread to immobilize foesConjures sticky, glowing threads to immobilize enemies. Captured foes shimmer with tension as the web pulses."],["Celestial Tether","Links allies with protective threadsLinks allies with glowing protective threads, reducing incoming damage and enhancing coordination."]],
    passives:["Thread Affinity ‚Äî Thread-based attacks are faster, stronger, and more precise.","Precognitive Insight ‚Äî Can sense imminent danger or traps before they happen.","Fatebound ‚Äî Minor buffs/debuffs automatically activate in response to battlefield conditions."],
    ultimate:"Destiny‚Äôs Loom ‚Äî Oprah weaves a massive, glowing tapestry of threads over the battlefield for 15‚Äì20 seconds. Enemies caught are slowed, weakened, and damaged, while allies gain enhanced speed, defense, and attack. Threads pulse rhythmically, controlling the flow of combat.",
    stats:{Defense:17,Strength:12,Agility:13,Intelligence:19,Perception:20,"Magic Control":20,"Technique Control":18}
  },

  "Pendo": {race:"‚∏Æ‚∏ÆUnknown??", role:"Aetherist", title:"Shapeshifter", img:"pendo.jpg",
    melee:"Adaptive Blades ‚Äî Pendo wields lightweight, versatile daggers that shift shape, length, or sharpness depending on her current transformation or illusion, allowing her to adapt seamlessly to any combat scenario.",
    abilities:[["Transformation Magic","She can temporarily assume animal, humanoid, or elemental forms, gaining unique abilities, enhanced senses, or stealth advantages that let her bypass enemies or exploit weaknesses creatively."],["Illusionary Magic","Pendo conjures lifelike illusions that can misdirect, frighten, or overwhelm foes. They mimic reality so convincingly that even skilled opponents struggle to distinguish truth from deception."],["Phantom Strike","Combining her transformed limbs and illusions, she attacks unpredictably from angles that seem impossible, catching enemies off-guard while leaving them disoriented and vulnerable"],["Mirror Clone","She summons illusory duplicates of herself that mimic her every action for a short duration, multiplying her offensive presence and creating confusion on the battlefield."]],
    passives:["Perfect Mimicry ‚Äî Can perfectly imitate skills, voices, or movements of anyone she sees.","Adaptive Reflexes ‚Äî Gains small agility and dodge boosts whenever using transformations or illusions.","Trickster‚Äôs Luck ‚Äî Random chance triggers automatic evasion or counterattacks against minor attacks, giving her an almost supernatural edge in chaotic combat situations"],
    ultimate:"Pandemonium Realm ‚Äî Pendo warps the battlefield into a chaotic illusion, creating multiple overlapping copies of herself and enemies, while she can freely transform. For 15‚Äì20 seconds, she becomes nearly untouchable, striking unpredictably while opponents cannot distinguish real threats from illusions.",
    stats:{Defense:10,Strength:14,Agility:13,Intelligence:18,Perception:20,"Magic Control":20,"Technique Control":20}
},

  "Praveen": {race:"Mystic Elf", role:"Aetherist", title:"Copycat Mage", img:"praveen.jpg",
    melee:"Adaptive Gauntlets ‚Äî Praveen wears sleek, enchanted gauntlets that let him mimic the properties of any weapon or attack he observes, adapting their form and function for his own use. Letting him seamlessly turn any enemy‚Äôs style against them.",
  abilities:[["Imitation Magic","He can observe and temporarily copy any spell used by allies or enemies. Copied spells retain most of their power, allowing him to turn opponents‚Äô attacks against them."],["Spell Reflection","Praveen can bounce magical attacks back at their origin, dealing full or increased damage if he has recently copied that spell. Timing and precision make this deadly."],["Echo Strike","By mimicking enemy combat moves with perfect timing, Praveen strikes from angles opponents don‚Äôt expect. This allows him to combine intelligence, speed, and adaptability in melee or magical duels."],["Mirror Veil","He generates magical duplicates that mirror his actions while confusing foes. These illusions amplify the effectiveness of copied spells and create multiple targets for enemies to waste resources on."]],
    passives:["Adaptive Caster ‚Äî Gains small boosts to magic control and intelligence whenever copying new spells.","Memory Recall ‚Äî Can perfectly retain any observed spell for a limited duration.","Arcane Reflexes ‚Äî Automatically reacts to magic attacks faster than normal, thanks to his imitation instincts."],
    ultimate:"Archmage Replica ‚Äî duplicates all enemy spell patterns in the area, instantly casting them against them while enhancing his own speed and magic control for 15 seconds. Chaos and confusion reign supreme.",
    stats:{Defense:12,Strength:10,Agility:14,Intelligence:19,Perception:19,"Magic Control":20,"Technique Control":19}
},

  "Rosemary": {race: "Human (Light-Touched)", role: "Luminara", title: "Dawnflare", img:"rosemary.jpg",
    melee: "Solar Baton ‚Äî glows intensely when channeling light, striking foes with searing brilliance.",
    abilities: [["Flashbang Burst", "Instantly emits blinding light, disorienting enemies."],["Luminescent Dash", "Dashes rapidly, leaving a trail of damaging light."],["Solar Beam", "Fires a focused beam that pierces shields and barriers."],["Sunburst Nova", "Radiant explosion that blinds and burns enemies while healing allies."]],
    passives: ["Radiance Aura ‚Äî Nearby allies gain minor HP regen and movement speed.","Bright Presence ‚Äî Reduces enemy accuracy in her line of sight."],
    stats: {Defense:14, Strength:11, Agility:17, Intelligence:18, Perception:17, "Magic Control":19, "Technique Control":16},
    ultimate: "Sunburst Nova ‚Äî Rosemary releases her full solar power, creating a massive burst of light that blinds all enemies and rapidly restores ally health."
},

  "Sharlene": {race:"Unknown Human Variant", role:"Aetherist", title:"Karma Witch", img:"sharlene.jpg",
    melee:"Enchanted Focus Rod ‚Äî a short staff engraved with karmic runes; channels karma magic to punish or reward based on actions.",
    abilities:[["Karma Strike","Inflicts damage proportional to the target‚Äôs misdeeds."],["Karmic Shield","Absorbs enemy attacks and reflects proportional energy back."],["Balance Wave","Emits a pulse that buffs allies or debuffs enemies depending on their actions."],["Retributive Bind","Chains enemies‚Äô actions to their past moves, immobilizing repeat offenders."]],
    passives:["Moral Compass ‚Äî Can sense alignment and intentions of others.","Fate Link ‚Äî Gains temporary boosts when fighting those who act maliciously.","Karmic Resilience ‚Äî The more she punishes, the stronger her defenses become."],
    ultimate:"Judgment‚Äôs Weave ‚Äî Sharlene unleashes a large-scale karmic field; enemies suffer amplified effects of all past misdeeds, while allies gain enhanced stats proportional to past heroism, for 15 seconds.",
    stats:{Defense:9,Strength:10,Agility:13,Intelligence:17,Perception:17,"Magic Control":20,"Technique Control":18}
},

  "Shirleen": {race:"Human", role:"Aetherist", title:"Seer Witch", img:"shirleen.jpg",
    melee:"Crystal Focus Orb ‚Äî a floating crystal orb that projects visions and channels time-based magic.",
    abilities:[["Vision of Past","Reveals hidden truths and events that have already occurred."],["Vision of Present","Detects hidden enemies, traps, or ongoing schemes."],["Vision of Future","Predicts enemy moves and environmental hazards a few seconds ahead."],["Arcane Bolt","Basic offensive spell; a quick magical projectile she can cast repeatedly."]],
    passives:["Clairvoyant Insight ‚Äî Gains enhanced intelligence and perception during combat.","Time Sense ‚Äî Slightly anticipates attacks, improving evasion.","Foresight Resilience ‚Äî Magical defenses strengthen proportionally to how well she predicts enemy actions."],
    ultimate:"Chrono Nexus ‚Äî Shirleen opens a temporal field for 15‚Äì20 seconds; allies gain foresight-enhanced reflexes and enemies‚Äô actions are slowed or misdirected as past, present, and future converge around them.",
    stats:{Defense:12,Strength:10,Agility:14,Intelligence:20,Perception:20,"Magic Control":20,"Technique Control":20}
},

  "Stanley": {race: "Human",role: "Luminara",title: "Master Crafter",img: "stanley.jpg",
    melee: "Reinforced Alchemist Rod ‚Äî Stanley wields a sturdy, reinforced rod capable of channeling his potions in close combat, delivering explosive concoctions or healing effects to nearby allies.",
    abilities: [["Potion Crafting", "Quickly brews offensive, defensive, or utility potions mid-battle, adapting to combat flow and providing tactical flexibility."],["Elixir Toss", "Throws potions with precision, healing allies, damaging enemies, or applying status effects. Potency varies with preparation and magical infusion."],["Alchemy Infusion", "Temporarily enhances weapons, armor, or allies with alchemical effects, increasing damage, elemental resistances, or minor buffs to turn the battlefield."],["Basic Elemental Blast", "Casts minor fire, ice, or acid attacks. Not as potent as major spells, but useful for area control or harassing multiple foes."]],
    passives: ["Quick Brew ‚Äî Potion preparation speed is doubled during combat, allowing consistent support or offensive mixtures without losing precious time.","Resourceful Mind ‚Äî Can improvise potions from any available materials, turning the battlefield environment into a tactical advantage.","Chemical Affinity ‚Äî Gains small buffs when using potions of his own making, rewarding inventive alchemical play."],
    ultimate: "Transmutation Surge ‚Äî Stanley triggers a massive alchemical event, releasing explosive mixtures or mass-enhancing elixirs. Allies gain huge temporary buffs while enemies caught suffer multiple overlapping elemental effects.",
    stats: {Defense: 10,Strength: 12,Agility: 11,Intelligence: 18,Perception: 18,"Magic Control": 18,"Technique Control": 19}
},

 "Starwonder": {race: "Satyr",role: "Aetherist",title: "Dreamweaver",img: "starwonder.jpg",
    melee: "Stardust Staff ‚Äî a small, enchanted staff that channels his daydream-based magic, allowing both physical strikes and dream-energy amplification.",
    abilities: [["Daydream Projection", "He turns imagination into temporary illusions that distract, trap, or confuse enemies, creating tactical openings for allies or misdirecting foes."],["Whimsical Shield", "Generates light, playful barriers from dream energy to block minor attacks, protecting himself or allies creatively during chaotic fights."],["Somnolent Touch", "Puts enemies briefly to sleep with a magical touch or wave, enabling crowd control or strategic repositioning."],["Fantasy Burst", "Shoots dream energy projectiles dealing minor damage, useful for harassment, disruption, or synergizing with illusions in combat."]],
    passives: ["Imaginative Mind ‚Äî Spells become slightly stronger when applied creatively, rewarding inventive strategies.","Dreamer‚Äôs Luck ‚Äî Small chance for random beneficial effects like extra damage, evasion, or minor healing to occur.","Whimsical Agility ‚Äî Gains extra evasion in chaotic battlefields, making him nimble and hard to hit."],
    ultimate: "Nightmare Mirage ‚Äî floods the battlefield with his dream world for 15‚Äì20 seconds; enemies are disoriented, illusions deal minor damage, and allies gain increased movement and attack speed.",
    stats: {Defense: 11,Strength: 10,Agility: 12,Intelligence: 14,Perception: 18,"Magic Control": 20,"Technique Control": 14}
},
  "Talian": {
    race: "Human", role:"Reaver", title:"Adventurer", img:"talian.png",
    melee:"Psychic Blade ‚Äî A bow that tunes with the user's psychic abilities and auto-aims to a target.",
    abilities:[["Mind Push","Uses telekinesis to shove enemies, objects, or debris, controlling battlefield positioning."],["Psychic Grasp","Pulls enemies or items toward him, setting up combos or traps."],["Kinetic Shield","Manipulates nearby objects to form a temporary barrier against attacks."],["Insightful Mind","Detects hidden threats, weak points, or secret pathways using psychic intuition."]],
    passives:["Telekinetic Reflex - Automatically deflects small projectiles or weapons when attacked.","Mental Focus - Maintains energy and precision longer during combat or exploration.","Tactical Perception - Slight bonus to intelligence and perception when controlling objects or enemies."],
    ultimate:"Mental Maelstrom ‚Äì Talian unleashes a telekinetic storm, lifting enemies, debris, and weapons into chaotic motion, dealing massive damage while leaving foes disoriented and vulnerable.",
    stats:{Defense:15,Strength:13,Agility:10,Intelligence:12,Perception:17,"Magic Control":18,"Technique Control":16}
},

 "Victor": {
    race:"Human", role:"Shadowstalker", title:"Toxic assassin", img:"victor.jpg",
    melee:"Poisoned Dagger ‚Äî coated with toxins that corrode armor or poison enemies, giving Victor deadly close-range lethality and strategic poison control.",
    abilities:[["Toxikinesis","Manipulates toxins mid-air or on weapons, allowing precise, versatile poison attacks against multiple enemies simultaneously."],["Venom Cloud","Creates toxic mist that damages and weakens foes over time, controlling battlefield space efficiently."],["Corrosive Strike","Infuses melee attacks with potent poison, enhancing dagger lethality for single-target or combo damage."],["Poison Recovery","Absorbs minor toxins to heal or empower himself, turning enemy poisons into personal advantage."]],
    passives:["Poison Resistance ‚Äî Immune to natural and magical toxins, making Victor highly durable against chemical threats.","Adaptive Toxin ‚Äî Gains buffs against poison-vulnerable enemies, maximizing damage potential.","Toxic Insight ‚Äî Naturally senses poisonous traps or enemies, improving battlefield awareness."],
    ultimate:"Neurotoxic Cataclysm ‚Äî Saturates the area with deadly toxins, weakening enemies and increasing Victor's reflexes while dealing constant damage.",
    stats:{Defense:13,Strength:15,Agility:15,Intelligence:18,Perception:17,"Magic Control":19,"Technique Control":16}
},

"Walter": {
    race:"Dwarf", role:"Luminara", title:"Earth Bender", img:"walter.jpg",
    melee:"Stone Hammer ‚Äî massive geokinetic hammer capable of crushing foes, controlling terrain, and delivering devastating impact damage.",
    abilities:[["Geokinesis","Manipulates earth, stone, and minerals for offense or defense, shaping battlefield strategically."],["Seismic Slam","Smashes ground to create shockwaves, destabilizing enemies and structures."],["Stone Armor","Encases himself in rock, greatly boosting defense temporarily."],["Quake Fist","Strikes ground to launch boulders or crush enemies with concentrated earth energy."]],
    passives:["Earth Affinity ‚Äî Rock-based spells stronger and more durable, amplifying geokinetic power.","Stability ‚Äî Difficult to knock down, increasing battlefield resilience.","Miner‚Äôs Insight ‚Äî Detects hidden minerals or weak structural points for tactical advantage."],
    ultimate:"Cataclysmic Quagmire ‚Äî Raises earth into massive pillars and fissures, crushing enemies and reshaping battlefield for strategic control.",
    stats:{Defense:18,Strength:17,Agility:12,Intelligence:16,Perception:15,"Magic Control":18,"Technique Control":15}
},

"Wayne": {
    race:"Tremorborn", role:"Reaver", title:"Sonovibrant", img:"wayne.jpg",
    melee:"Sonic Chakrams ‚Äî vibrating circular blades that slice, disorient, or send shockwaves; returns after being thrown for multi-use attacks.",
    abilities:[["Vibrakinesis","Controls vibrations and sound waves to shatter objects, destabilize enemies, or manipulate terrain creatively."],["Sonic Boom","Emits concussive wave, staggering foes and cracking structures for area control."],["Echo Strike","Detects enemy positions through vibrations, predicting and hitting targets before reaction."],["Vibration Pulse","Destabilizes footing or equipment using ground tremors, creating openings or environmental advantage."],["Resonant Step","Syncs with vibrations to move silently or traverse walls and ceilings with precision."]],
    passives:["Auditory Reflexes ‚Äî Instantly reacts to vibrations for superior dodges and counters.","Sound & Vibration Immunity ‚Äî Resistant to sonic attacks, enhancing durability.","Resonance Boost ‚Äî Damage increases when battlefield vibrations are chaotic, synergizing with environment.","Harmonic Conduction ‚Äî Absorbs vibrations to amplify attacks or recharge abilities quickly."],
    ultimate:"Resonant Cataclysm ‚Äî Floods battlefield with sonic energy, causing stagger, collapse, and enhanced attack precision for 15 seconds.",
    stats:{Defense:11,Strength:14,Agility:13,Intelligence:14,Perception:18,"Magic Control":19,"Technique Control":17}
},

"Zena": {
    race:"Runeborn", role:"Aetherist", title:"Sealing Witch", img:"zena.jpg",
    melee:"Enchanted Scrolls ‚Äî instantly inscribes magical seals for traps, bindings, or destructive sigils at close or mid-range.",
    abilities:[["Seal Magic","Draws seals to immobilize objects, enemies, or nullify magic, lasting until broken."],["Unseal Release","Breaks seals to trigger effects like explosions, stored energy release, or enemy weakening."],["Runic Trap","Places temporary seals on terrain to slow, trap, or chain-trigger effects on foes."],["Mana Lock","Creates zone restricting enemy spellcasting, reducing magical threat and controlling battlefield flow."]],
    passives:["Seal Affinity ‚Äî Stronger, longer-lasting seals with interactive potential.","Quick Sigil ‚Äî Instantly inscribes seals for reactive traps or combos.","Mana Channel ‚Äî Gains energy while creating or breaking seals for prolonged combat efficiency.","Runic Insight ‚Äî Detects nearby magical seals or traps for situational awareness."],
    ultimate:"Eternal Binding ‚Äî Multi-layer seal immobilizes or weakens enemies while absorbing and redirecting magic; layers trigger combos for control and damage.",
    stats:{Defense:11,Strength:12,Agility:13,Intelligence:19,Perception:18,"Magic Control":20,"Technique Control":18}
}

}; // end heroes object

/* ---------------------------
   Helper: color mapping for placeholders
   --------------------------- */
const roleColor = role => {
  switch(role){
    case 'Shadowstalker': return getCssVar('--shadow_stalker');
    case 'Reaver': return getCssVar('--reaver');
    case 'Luminara': return getCssVar('--luminara');
    case 'Aetherist': return getCssVar('--aetherist');
    case 'Tank': return getCssVar('--tank');
  }
};
function getCssVar(name){
  return getComputedStyle(document.documentElement).getPropertyValue(name).trim() || '#9b7bff';
}

/* ---------------------------
   Generate SVG placeholder (data URL) by name & role color
   --------------------------- */
function generatePlaceholder(name, role){
  const initials = name.split(' ').map(s=>s[0]).slice(0,1).join('').toUpperCase();
  const bg = roleColor(role) || '#6b46c1';
  const fg = '#021024';
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='800' height='600'>
    <defs>
      <linearGradient id='g' x1='0' x2='1'>
        <stop offset='0' stop-color='${bg}' stop-opacity='0.95'/>
        <stop offset='1' stop-color='#071026' stop-opacity='0.85'/>
      </linearGradient>
      <filter id='grain'><feTurbulence baseFrequency='0.8' numOctaves='1' stitchTiles='stitch'/></filter>
    </defs>
    <rect width='100%' height='100%' fill='url(#g)'/>
    <g opacity='0.08' filter='url(#grain)'><rect width='100%' height='100%' fill='#fff'/></g>
    <text x='50%' y='46%' font-family='Inter, Arial, sans-serif' font-size='160' fill='${fg}' text-anchor='middle' dominant-baseline='middle' font-weight='800'>${escapeXml(initials)}</text>
    <text x='50%' y='72%' font-family='Inter, Arial, sans-serif' font-size='28' fill='${fg}' text-anchor='middle' dominant-baseline='middle'>${escapeXml(name)}</text>
  </svg>`;
  return 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
}
function escapeXml(s){ return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;').replaceAll("'",'&#39;'); }

/* ---------------------------
  Build the grid alphabetically
  --------------------------- */
// Base path for hero images. Place PNGs in an `images/` folder next to this HTML
// or change this to the correct relative path for your project (e.g. './assets/img/').
const imgPath = './images/';
const grid = document.getElementById('heroesGrid');
const roleFiltersContainer = document.getElementById('roleFilters');
let currentRoleFilter = 'All';
let allCards = {};

// Get all unique roles
const allRoles = ['All', ...new Set(Object.values(heroes).map(h => h.role || 'Support'))];

// Create role filter tabs
allRoles.forEach(role => {
  const tab = document.createElement('div');
  tab.className = 'role-tab';
  if(role === 'All') tab.classList.add('active');
  tab.dataset.role = role;
  tab.innerText = role;
  tab.addEventListener('click', () => {
    document.querySelectorAll('.role-tab').forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    currentRoleFilter = role;
    rebuildGrid();
  });
  roleFiltersContainer.appendChild(tab);
});

// Build all cards
Object.keys(heroes).sort((a,b)=>a.localeCompare(b)).forEach(name=>{
  const h = heroes[name];
  const article = document.createElement('article');
  article.className = 'card';
  article.dataset.hero = name;
  article.dataset.role = h.role || 'Support';

  // set a custom pulse size (subtle variety)
  article.style.setProperty('--pulse-size', `${40 + Math.floor(Math.random()*30)}px`);

  // markup
  article.innerHTML = `
    <div class="portrait">
      <img src="${imgPath + h.img}" alt="${name} portrait" onerror="this.onerror=null; this.src = generatePlaceholder('${escapeJs(name)}','${escapeJs(h.role)}')">
    </div>
    <div class="info">
      <div class="hero-meta">
        <div class="hero-name">${escapeHtml(name)}</div>
        <div class="hero-desc">${escapeHtml(h.title)} ‚Ä¢ ${escapeHtml(h.race)}</div>
      </div>
      <div class="role-badge">${escapeHtml(h.role)}</div>
    </div>
  `;
  allCards[name] = article;
});

// Initial grid population
function rebuildGrid() {
  grid.innerHTML = '';
  let cardsToShow = currentRoleFilter === 'All' 
    ? Object.keys(allCards)
    : Object.keys(allCards).filter(name => allCards[name].dataset.role === currentRoleFilter);
  
  cardsToShow.sort((a, b) => a.localeCompare(b));
  cardsToShow.forEach(name => {
    grid.appendChild(allCards[name]);
  });
}

rebuildGrid();


/* ---------------------------
   Modal behavior: sleek details on click
   --------------------------- */
const overlay = document.getElementById('overlay');
const sheet = document.getElementById('sheet');
let currentMember = "Philip"; // Track which brother is currently displayed

function buildModalContent(h) {
  let abilitiesHtml = '';
  if (Array.isArray(h.abilities)) {
    abilitiesHtml = h.abilities.map(a => `<div class="ability"><strong>${escapeHtml(a[0])}</strong><div style="color:var(--muted);margin-top:6px">${escapeHtml(a[1])}</div></div>`).join('');
  } else if (typeof h.abilities === 'string') {
    abilitiesHtml = h.abilities.split(';').map(ability => {
      const [name, desc] = ability.split('‚Äî').map(s => s.trim());
      return `<div class="ability"><strong>${escapeHtml(name)}</strong><div style="color:var(--muted);margin-top:6px">${escapeHtml(desc || '')}</div></div>`;
    }).join('');
  }
  
  let passivesHtml = '';
  if (Array.isArray(h.passives)) {
    passivesHtml = h.passives.map(p => `<div class="passive">${escapeHtml(p)}</div>`).join('');
  } else if (typeof h.passives === 'string') {
    passivesHtml = h.passives.split(';').map(passive => 
      `<div class="passive">${escapeHtml(passive.trim())}</div>`
    ).join('');
  }
  const statsHtml = Object.entries(h.stats || {}).map(([k,v])=>`<div class="stat"><b>${v}</b><div style="font-size:11px;color:var(--muted)">${escapeHtml(k)}</div></div>`).join('');

  sheet.innerHTML = `
    <div class="sheet-top">
      <div class="sheet-img"><img src="${imgPath + (h.img||'')}" alt="${escapeHtml(currentMember)} large" onerror="this.onerror=null;this.src=generatePlaceholder('${escapeJs(currentMember)}','${escapeJs(h.role)}')"></div>
      <div class="sheet-right">
        <h2>${escapeHtml(currentMember)}</h2>
        <div class="muted">${escapeHtml(h.title)} ‚Ä¢ ${escapeHtml(h.race)}</div>
        <p><strong>Role:</strong> ${escapeHtml(h.role)}</p>
        <p><strong>Melee:</strong> ${escapeHtml(h.melee || '')}</p>
        <div class="stat-row">${statsHtml}</div>
      </div>
    </div>
    <div class="abilities"><h3 style="margin:8px 0 8px;color:var(--accent)">Abilities</h3>${abilitiesHtml}</div>
    <div class="ultimate"><h3 style="margin:8px 0 6px;color:var(--accent)">Ultimate</h3><p style="margin:0;color:var(--muted)">${escapeHtml(h.ultimate || '')}</p></div>
    <div style="margin-top:12px" class="passives"><h3 style="margin:8px 0 12px;color:var(--accent)">Passives</h3>${passivesHtml}</div>
    <div style="display:flex;justify-content:flex-end;gap:8px"><div class="close-btn" id="switchBtn">Switch Twin</div><div class="close-btn" id="closeBtn">Close</div></div>
  `;
  overlay.classList.add('show');
  overlay.setAttribute('aria-hidden','false');
  
  document.getElementById('closeBtn').onclick = closeModal;
  document.getElementById('switchBtn').onclick = switchBrother;
}

function switchBrother() {
  currentMember = currentMember === "Philip" ? "Steve" : "Philip";
  const h = heroes["Brothers"].members[currentMember];
  buildModalContent(h);
}

function showBrotherModal(card) {
  currentMember = "Philip";
  const h = heroes["Brothers"].members[currentMember];
  buildModalContent(h);
}

grid.addEventListener('click', (e)=>{
  const card = e.target.closest('.card');
  if(!card) return;
  const name = card.dataset.hero;
  if(!name) return;
  
  // Special handling for Brothers
  if(name === "Brothers") {
    showBrotherModal(card);
    return;
  }
  
  const h = heroes[name];
  if(!h) return;

  // build abilities html (compact)
  let abilitiesHtml = '';
  if (Array.isArray(h.abilities)) {
    abilitiesHtml = h.abilities.map(a => `<div class="ability"><strong>${escapeHtml(a[0])}</strong><div style="color:var(--muted);margin-top:6px">${escapeHtml(a[1])}</div></div>`).join('');
  } else if (typeof h.abilities === 'string') {
    // Handle string format (like Mario's abilities)
    abilitiesHtml = h.abilities.split(';').map(ability => {
      const [name, desc] = ability.split('‚Äî').map(s => s.trim());
      return `<div class="ability"><strong>${escapeHtml(name)}</strong><div style="color:var(--muted);margin-top:6px">${escapeHtml(desc || '')}</div></div>`;
    }).join('');
  }
  let passivesHtml = '';
  if (Array.isArray(h.passives)) {
    passivesHtml = h.passives.map(p => `<div class="passive">${escapeHtml(p)}</div>`).join('');
  } else if (typeof h.passives === 'string') {
    // Handle string format (like passives)
    passivesHtml = h.passives.split(';').map(passive => 
      `<div class="passive">${escapeHtml(passive.trim())}</div>`
    ).join('');
  }
  const statsHtml = Object.entries(h.stats || {}).map(([k,v])=>`<div class="stat"><b>${v}</b><div style="font-size:11px;color:var(--muted)">${escapeHtml(k)}</div></div>`).join('');

  sheet.innerHTML = `
    <div class="sheet-top">
      <div class="sheet-img"><img src="${imgPath + h.img}" alt="${escapeHtml(name)} large" onerror="this.onerror=null;this.src=generatePlaceholder('${escapeJs(name)}','${escapeJs(h.role)}')"></div>
      <div class="sheet-right">
        <h2>${escapeHtml(name)}</h2>
        <div class="muted">${escapeHtml(h.title)} ‚Ä¢ ${escapeHtml(h.race)}</div>
        <p><strong>Role:</strong> ${escapeHtml(h.role)}</p>
        <p><strong>Melee:</strong> ${escapeHtml(h.melee || '')}</p>
        <div class="stat-row">${statsHtml}</div>
      </div>
    </div>
    <div class="abilities"><h3 style="margin:8px 0 8px;color:var(--accent)">Abilities</h3>${abilitiesHtml}</div>
    <div class="ultimate"><h3 style="margin:8px 0 6px;color:var(--accent)">Ultimate</h3><p style="margin:0;color:var(--muted)">${escapeHtml(h.ultimate || '')}</p></div>
    <div style="margin-top:12px" class="passives"><h3 style="margin:8px 0 12px;color:var(--accent)">Passives</h3>${passivesHtml}</div>
    <div style="display:flex;justify-content:flex-end"><div class="close-btn" id="closeBtn">Close</div></div>
  `;
  overlay.classList.add('show');
  overlay.setAttribute('aria-hidden','false');

  document.getElementById('closeBtn').onclick = closeModal;
});

// close on background click
overlay.addEventListener('click', (e)=>{ if(e.target === overlay) closeModal(); });
function closeModal(){ overlay.classList.remove('show'); overlay.setAttribute('aria-hidden','true'); }

/* ---------------------------
   Utility: escaping & helpers
   --------------------------- */
function escapeHtml(s){ if(typeof s!=='string') return s; return s.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;').replaceAll("'",'&#39;'); }
function escapeJs(s){ return String(s).replaceAll("'", "\\'").replaceAll('"','\\"'); }

</script>
 <p class="styled-text"> By Jeremy Muhia, You're class is coding wizard. </p>
 <p class="styled-text"> Will be making this into a video game before 2029.</p>
</html>
